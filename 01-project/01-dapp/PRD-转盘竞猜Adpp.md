# 产品需求文档 —— 转盘竞猜Dapp

## 概述
转盘竞猜是一款运行于Dipperin上的转盘颜色竞猜小游戏，通过各颜色的下注赢取DIP币。

## Feature List

- 游戏规则：
  - 链上每出7个块转盘游戏开奖一次，时间大约为60秒一局；
  - 开奖取第7个区块生成的Hash值后两位为开奖结果{0-1-2-3-4-5-6-7-8-9-A（10）-B（11）-C（12）-D（13）-E（14）-F（15）}，例如：Hash：0x000029B1216764C98e4C82FA99B7B4f0EF1D12b2a9EA，当前Hash所对应转盘上的位置（Ex16+A）/4=58.5，相对应的转盘区域为第59块，即当前开奖结果为转盘第59块所对应的颜色；
  - 每一局前5个区块的时间为下注时间，您可以选择相应颜色进行投注；
  - 每一局后2个区块的时间为数据上链时间，此时间段内无法下注（前5个区块内已经下好注还没有发送钱包交易的投注，在钱包插件中仍然可以发送交易）；
  - 当每一局的最后一个区块生成时，即为当前局开奖时间；
  - 转盘上有64个块，不规则的显示7种颜色（红1 - 橙2 - 黄4 - 绿6 - 青10 - 蓝15 - 紫26）；
  - 7种颜色的赔率（红X50 - 橙X25 - 黄X14 - 绿X8 - 青X5 - 蓝X3.8 - 紫X1.9） 。


- 游戏界面
  - 授权登录
    - 唤醒csLink进行授权登录，授权平台获取玩家信息。

  - 开奖历史
    - 显示近100场的开奖结果，并提供每一种颜色的中奖比例。

  - 锦鲤排行榜
    - 显示历史得奖金额最高10人，包括排名、地址、历史奖金金额，提现不会清除历史奖金。

  - 下注面板
    - 下注选项分为7种颜色（彩虹色—红橙黄绿青蓝紫），相应的颜色所占比例不一样，对应的赔率也不一样。
    - 同一局可以选择多种或一种颜色进行下注。

  - 下注额度
    - 最少100钻石即0.01 DIP，赔率、奖金跟随下注选取颜色与下注金额的变化而变化。

  - 点击下注
    - 唤醒csLink，进行交易确认，交易完成后等待平台接受。

  - 我的奖金
    - 显示现有奖金数量
    - 提现
      - 弹窗提示是否提现，显示钻石数和提现DIP。
      - 提现到账期间提现功能锁定不可再次发起，在交易完成后再解锁提现功能。
      - 将筹码提现至csLink，由平台执行转账交易，将对应提现金额转至csLink
      - 成功到账后清空钻石数。
      - 转账失败则解锁提现功能。

  - 下注历史
    - 下注历史字段显示字段：投注者、下注金额、下注颜色、开奖结果、收益金额