# 产品需求文档 —— Bet 

## 概述
Rich Bet是一款运行于chainstack上的竞彩小游戏，可通过下注赢取积分

## Feature List

- 游戏规则：
  - 从链上每20个块为一轮游戏，从第16个块起投注自动进入下一轮。按我们现在出块时间10秒左右推算，大约3分钟半左右一轮游戏。
  - 取目标块的最后一位哈希的数值作为开奖结果。
  - 下注可选0-9a-f共计16个号码，最多选取8个号码，最少1个。
  - 兑换汇率：1csk=10,000钻石，提现不收手续费
  - 游戏可选1个号码，赔率为15.2；另可选大小奇偶，赔率为1.9
  - 单笔下注金额最小单位为100钻石。
  - 下注成功后直至交易被打包确认才会出现在下注历史中，同一轮游戏不限制下注次数。
  - 开奖时更新所有获奖玩家钻石数，玩家账户钻石+获奖钻石
  - 提现：目前只支持全部提现，如玩家账户钻石数为10020，对应提现1.002csk，由平台账户对玩家地址进行转账，转账手续费取最低值，并锁定玩家钻石禁止发起提现。若转账失败，则解锁提现。若转账成功则清空玩家钻石数。


- 游戏界面
  - 授权登录
    - 唤醒csLink进行授权登录，通知平台获取玩家信息
  - 开奖历史
    - 显示近2场开奖结果
    - 包括轮次，开奖结果
    - 开奖向上滚动
  - 锦鲤排行榜
    - 显示历史得奖金额最高5人
    - 包括排名、地址、历史奖金金额
    - 提现不会清除历史奖金
  - 下注面板
    - 分别有0-9a-f共16个按键，点击则下注该号码
    - 大、小、奇、偶4个按钮可快速选取对应8个号码
    - 重置按钮则清空选区
  - 下注额度
    - 最少100钻石即0.01csk
  - 点击下注
    - 跳出弹窗，确认下注号码、下注金额
    - 唤醒csLink，进行交易确认，交易完成后等待平台接受
    - 如果结算时错过本轮最后下注时间（第16个块起），则自动投注到下一轮
  - 我的奖金
    - 显示现有奖金数量
    - 提现
      - 弹窗提示是否提现，显示钻石数和提现csk。
      - 提现到账期间提现功能锁定不可再次发起，在交易完成后再解锁提现功能。
      - 将筹码提现至csLink，由平台执行转账交易，将对应提现金额转至csLink
      - 成功到账后清空钻石数。
      - 转账失败则解锁提现功能。
  - 下注历史
    - 下注轮次、下注金额、下注号码、开奖结果、收益金额、下注时间
